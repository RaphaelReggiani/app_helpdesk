{% extends "default.html" %}
{% load static %}
{% load form_tags %}

{% block body %}

<div class="min-h-screen flex items-center justify-center px-4 py-8 bg-center bg-no-repeat bg-cover" style="background-image: url('{% static 'images/car_image_carsdb.jpg' %}'); background-color: rgba(255, 255, 255, 0.65); background-size: cover; background-blend-mode: overlay;">

  <div class="mx-auto grid max-w-7xl gap-20 px-6 lg:px-8 xl:grid-cols-[1fr_auto_1fr] items-center">

    <div class="max-w-xl">
        <h2 class="text-pretty text-3xl font-semibold tracking-tight text-blue-400 sm:text-4xl">SIGN UP</h2>

        <form class="mt-6" action="" method="POST" enctype="multipart/form-data">
        {% csrf_token %}
        {{ signup_form.non_field_errors }}

        {% for field in signup_form %}
        <label for="{{ field.id_for_label }}" class="block mt-4 text-sm font-medium text-blue-600">{{ field.label }}</label>
        <div class="mt-2">
            {{ field|add_class:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline outline-1 -outline-offset-1 outline-blue-400 placeholder:text-gray-900 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-blue-600 sm:text-sm" }}
            {% if field.help_text %}
            <small class="text-blue-400">{{ field.help_text }}</small>
            {% endif %}
            {% if signup_submitted %}
            {% for error in field.errors %}
                <p class="text-red-600 text-sm mt-1">{{ error }}</p>
            {% endfor %}
            {% endif %}
        </div>
        {% endfor %}

        {% if signup_submitted and signup_form.errors %}
            <div>
                <ul>
                {% for field in signup_form %}
                    {% for error in field.errors %}
                    <li><strong>{{ field.label }}:</strong> {{ error }}</li>
                    {% endfor %}
                {% endfor %}
                {% for error in signup_form.non_field_errors %}
                    <li>{{ error }}</li>
                {% endfor %}
                </ul>
            </div>
        {% endif %}

        <button type="submit" name="signup_submit" class="inline-flex justify-center rounded-md bg-blue-700 mt-7 cursor-pointer px-3 py-2 w-full text-sm font-semibold text-white shadow-sm hover:bg-blue-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600">SIGN UP</button>
        </form>
    </div>

    <div class="flex flex-col items-center mx-8">
      <div class="w-1 h-60 bg-blue-600 rounded"></div>
      <div class="w-1 h-60 bg-blue-200 rounded mt-3"></div>
    </div>

    <div class="max-w-xl">
        <h2 class="text-pretty text-3xl font-semibold tracking-tight text-blue-400 sm:text-4xl">LOG IN</h2>

        {% if messages %}
            <div class="mt-3">
                {% for message in messages %}
                    {% if 'login' in message.tags or 'logout' in message.tags %}
                        <p class="{% if message.level == DEFAULT_MESSAGE_LEVELS.ERROR %}text-red-600{% else %}text-green-600{% endif %} font-semibold">
                            {{ message }}
                        </p>
                    {% endif %}
                {% endfor %}
            </div>
        {% endif %}

        {% if login_form.errors %}
        <div class="text-red-600 mt-4">
            <ul>
            {% for field in login_form %}
                {% for error in field.errors %}
                    <li><strong>{{ field.label }}:</strong> {{ error }}</li>
                {% endfor %}
            {% endfor %}
            {% for error in login_form.non_field_errors %}
                <li>{{ error }}</li>
            {% endfor %}
            </ul>
        </div>
        {% endif %}

        <form class="mt-6" action="" method="POST">
        {% csrf_token %}
        {{ login_form.non_field_errors }}

        {% for field in login_form %}
            <label for="{{ field.id_for_label }}" class="block mt-6 text-sm font-medium text-blue-600">{{ field.label }}</label>
            <div class="mt-2 relative">
            {{ field|add_class:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline outline-1 -outline-offset-1 outline-blue-400 placeholder:text-gray-900 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-blue-600 sm:text-sm" }}
            {% for error in field.errors %}
                <p class="text-red-600 text-sm mt-1">{{ error }}</p>
            {% endfor %}
            </div>
        {% endfor %}

        <button type="submit" name="login_submit" class="inline-flex justify-center rounded-md bg-blue-700 mt-7 cursor-pointer px-3 py-2 w-full text-sm font-semibold text-white shadow-sm hover:bg-blue-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600">LOG IN</button>

        <p class="mt-6 text-sm text-blue-800">
            <a href="#" class="cursor-pointer hover:underline">* Forgot your password?</a>
        </p>
        </form>
    </div>

  </div>

</div>

{% endblock body %}

{% block footer %}
<footer class="bg-blue-800 text-white text-center py-4">
  Â© 2025 HELPDESK - All rights reserved.
</footer>
{% endblock footer %}



